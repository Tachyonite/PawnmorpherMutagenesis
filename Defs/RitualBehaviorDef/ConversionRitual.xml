<Defs xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../Schemas/RitualBehaviorDef.xsd">
    <RitualBehaviorDef>
        <defName>PMM_MutagenesisConversion</defName>
        <workerClass>PawnmorpherMutagenesis.Rituals.Worker_MutagenicConversion</workerClass>
        <durationTicks>5000</durationTicks>
        <preceptRequirements>
            <li Class="PreceptRequirement_Altar" xsi:nil="true" />
        </preceptRequirements>

        <roles Inherit="false">
            <li Class="RitualRoleTag">
                <label>speaker</label>
                <id>moralist</id>
                <tag>Moralist</tag>
                <precept>IdeoRole_Moralist</precept>
                <required>True</required>
                <maxCount>1</maxCount>
                <countsAsParticipant>False</countsAsParticipant>
            </li>
            <li Class="RitualRoleConvertee">
                <label>convertee</label>
                <id>convertee</id>
                <maxCount>1</maxCount>
                <required>True</required>
                <allowOtherIdeos>True</allowOtherIdeos>
                <countsAsParticipant>False</countsAsParticipant>
            </li>
        </roles>
        <stages>
            <li>
                <defaultDuty>Spectate</defaultDuty>
                <endTriggers>
                    <li Class="StageEndTrigger_RolesArrived">
                        <roleIds>
                            <li>converter</li>
                            <li>convertee</li>
                        </roleIds>
                    </li>
                </endTriggers>
                <roleBehaviors>
                    <li>
                        <roleId>converter</roleId>
                        <dutyDef>ArriveToCell</dutyDef>
                        <customPositions>
                            <li Class="RitualPosition_BehindThingCenter" />
                        </customPositions>
                    </li>
                    <li>
                        <roleId>convertee</roleId>
                        <dutyDef>ArriveToCell</dutyDef>
                        <customPositions>
                            <li Class="RitualPosition_InFrontThingCenter" />
                        </customPositions>
                    </li>
                </roleBehaviors>
                <highlightRolePawns>
                    <li>convertee</li>
                    <li>converter</li>
                </highlightRolePawns>
                <allowedSpectateSidesOverride>Horizontal</allowedSpectateSidesOverride>
                <spectateDistanceOverride>1</spectateDistanceOverride>
                <spectatorsRequired>true</spectatorsRequired>

            </li>
            <li>
                <defaultDuty>Spectate</defaultDuty>
                <allowedSpectateSidesOverride>Horizontal</allowedSpectateSidesOverride>
                <spectateDistanceOverride>1</spectateDistanceOverride>
                <spectatorsRequired>true</spectatorsRequired>
                <endTriggers>
                    <li Class="StageEndTrigger_DurationPercentage">
                        <percentage>1</percentage>
                    </li>
                </endTriggers>
                <roleBehaviors>
                    <li>
                        <roleId>converter</roleId>
                        <dutyDef>SpeakOnCellNoSpeechBubbles</dutyDef>
                        <customPositions>
                            <li Class="RitualPosition_BehindThingCenter" />
                        </customPositions>
                    </li>
                    <li>
                        <roleId>convertee</roleId>
                        <dutyDef>StandOnCell</dutyDef>
                    </li>
                </roleBehaviors>
                <highlightRolePawns>
                    <li>convertee</li>
                    <li>converter</li>
                </highlightRolePawns>
            </li>
        </stages>
    </RitualBehaviorDef>
</Defs>